<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!--- Unkuna CSS. -->
        <link rel="stylesheet" href="https://cdn.unkuna.org/v0.8/css/unkuna.css">
        <link rel="stylesheet" href="https://cdn.unkuna.org/v0.8/themes/unkuna-theme.css">
        <!--- Local CoolCalc styles. -->
        <link rel="stylesheet" href="coolcalc.css">
        <link rel="stylesheet" href="user-account.css">
        <title>{{page_title}}</title>
    </head>

    <body>
        <!--- CoolCalc branded header. -->
        <header class="meat-loaf">
            <img src="/coolcalc/local-assets/images/logo.svg" alt="CoolCalc" class="coolcalc-logo">
            <div style="position: absolute; right: 0; padding: 0 10px;">    
                <a href="/user/logout.php" style="float: right; text-decoration: none; padding: 5px; margin: 0 5px;" title="Log out"><img src="/coolcalc/local-assets/images/log-out.svg" alt="Log out" style="width: 24px;"></a>        
                <a href="/user/my-account.php" style="float: right; text-decoration: none; padding: 5px; margin: 0 5px;" title="My account"><img src="/coolcalc/local-assets/images/user.svg" alt="My account" style="width: 24px;"></a>
                <a href="/support/support-channels.html" target="_blank" style="float: right; text-decoration: none; padding: 5px; margin: 0 5px;" title="Support"><img src="/coolcalc/local-assets/images/support.svg" alt="Support" style="width: 24px;"></a>
            </div>
        </header>
    
        {{header}}

        <div class="nkn-container">
            <main class="cc-ua-container cc-card">
                <!--- section for messages coming from server. -->
                <section class="nkn-hide">
                    <div class="nkn-alert nkn-success">
                        <p>
                            <svg class="nkn-icon">                
                                <use xlink:href="/coolcalc/local-assets/sprites/restui.svg#success"></use>
                            </svg>
                            {{mySuccessMessage}}
                        </p>
                    </div>

                    <div class="nkn-alert nkn-error">
                        <p>
                            <svg class="nkn-icon">                
                                <use xlink:href="/coolcalc/local-assets/sprites/restui.svg#error"></use>
                            </svg>
                            {{myErrors}}
                        </p>
                    </div>
                </section> 
                <section>
                    <!--Personal information form-->
                    <h1 class="cc-title cc-title-form nkn-text-center">Register In Coolcalc</h1>
                    <form name="frm-info" method="post" action="/user/new-account.php" class="" validate>					                        
                        <section class="cc-info-user">
                            <div class="nkn-row-padding">
                                <div class="nkn-col-s12">
                                    <div class="cc-elem-input">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><circle fill="none" cx="12" cy="7" r="3"/><path d="M12 2C9.243 2 7 4.243 7 7s2.243 5 5 5 5-2.243 5-5S14.757 2 12 2zM12 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3S13.654 10 12 10zM21 21v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h2v-1c0-2.757 2.243-5 5-5h4c2.757 0 5 2.243 5 5v1H21z"/></svg>
                                        <div class="cc-label-input-box">
                                            <label for="first_name" class="nkn-label">First Name</label>
                                            <input 
                                                type="text"  
                                                name="first_name" 
                                                value="" 
                                                id="first_name" 
                                                class="nkn-input" 
                                                minlength="2" 
                                                maxlength="16" 
                                                required>
                                        </div>
                                    </div>
                                    <span class="error" aria-live="error message"></span>
                                </div>
                            </div>

                            <div class="nkn-row-padding">
                                <div class="nkn-col-s12">
                                    <div class="cc-elem-input">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><circle fill="none" cx="12" cy="7" r="3"/><path d="M12 2C9.243 2 7 4.243 7 7s2.243 5 5 5 5-2.243 5-5S14.757 2 12 2zM12 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3S13.654 10 12 10zM21 21v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h2v-1c0-2.757 2.243-5 5-5h4c2.757 0 5 2.243 5 5v1H21z"/></svg>
                                        <div class="cc-label-input-box">
                                            <label for="last_name" class="nkn-label">Last Name</label>
                                            <input 
                                                type="text" 
                                                name="last_name" 
                                                value=""  
                                                id="last_name" 
                                                class="nkn-input" 
                                                minlength="2" 
                                                maxlength="16"  
                                                required>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="nkn-row-padding">
                                <div class="nkn-col-s12">
                                    <div class="cc-elem-input">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><circle fill="none" cx="12" cy="7" r="3"/><path d="M12 2C9.243 2 7 4.243 7 7s2.243 5 5 5 5-2.243 5-5S14.757 2 12 2zM12 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3S13.654 10 12 10zM21 21v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h2v-1c0-2.757 2.243-5 5-5h4c2.757 0 5 2.243 5 5v1H21z"/></svg>
                                        <div class="cc-label-input-box">
                                            <label for="email" class="nkn-label">Email</label>
                                            <input 
                                                type="email" 
                                                name="email" 
                                                value="" 
                                                id="email" 
                                                class="nkn-input" required>
                                            <span class="error" aria-live="error message"></span>
                                        </div>
                                    </div>
                                </div>                       
                                <div class="feedback"></div>
                            </div>

                            <div class="nkn-row-padding">
                                <div class="nkn-col-s12">
                                    <div class="cc-elem-input">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><circle fill="none" cx="12" cy="7" r="3"/><path d="M12 2C9.243 2 7 4.243 7 7s2.243 5 5 5 5-2.243 5-5S14.757 2 12 2zM12 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3S13.654 10 12 10zM21 21v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h2v-1c0-2.757 2.243-5 5-5h4c2.757 0 5 2.243 5 5v1H21z"/></svg>
                                        <div class="cc-label-input-box">
                                            <label for="username" class="nkn-label">Username</label>
                                            <input 
                                                type="text" 
                                                name="login" 
                                                value="" 
                                                pattern="/^[a-zA-Z0-9]+([a-zA-Z0-9](_|-| )[a-zA-Z0-9])*[a-zA-Z0-9]+$/" 
                                                title="No ah ingresado un username que tenga sol"
                                                id="username" 
                                                class="nkn-input"  
                                                minlength="6" 
                                                maxlength="16"                                 
                                                required
                                            >  
                                        </div>
                                    </div>
                                    <span class="" aria-live="error message"></span>                       
                                </div>
                            </div>
                            <div class="nkn-row-padding">
                                <div class="nkn-col-s12">
                                    <div class="cc-elem-input">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><circle fill="none" cx="12" cy="7" r="3"/><path d="M12 2C9.243 2 7 4.243 7 7s2.243 5 5 5 5-2.243 5-5S14.757 2 12 2zM12 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3S13.654 10 12 10zM21 21v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h2v-1c0-2.757 2.243-5 5-5h4c2.757 0 5 2.243 5 5v1H21z"/></svg>
                                        <div class="cc-label-input-box">
                                            <label for="password" class="nkn-label cc-label">Password</label>
                                            <input 
                                                type="password" 
                                                name="password" 
                                                pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" 
                                                title=""
                                                id="password" 
                                                class="nkn-input cc-input" 
                                                required
                                            >
                                        </div>
                                    </div>
                                    <span class="" aria-live="error message"></span>							
                                </div>                                        
                            </div>                                    
                            <div class="nkn-row-padding">
                                <div class="nkn-col-s12">
                                    <div class="cc-elem-input">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24"><circle fill="none" cx="12" cy="7" r="3"/><path d="M12 2C9.243 2 7 4.243 7 7s2.243 5 5 5 5-2.243 5-5S14.757 2 12 2zM12 10c-1.654 0-3-1.346-3-3s1.346-3 3-3 3 1.346 3 3S13.654 10 12 10zM21 21v-1c0-3.859-3.141-7-7-7h-4c-3.86 0-7 3.141-7 7v1h2v-1c0-2.757 2.243-5 5-5h4c2.757 0 5 2.243 5 5v1H21z"/></svg>
                                        <div class="cc-label-input-box">
                                            <label for="confirm_password" class="nkn-label">Confirm Password</label>
                                            <input 
                                                type="password" 
                                                name="confirm_password" 
                                                id="confirm_password" 
                                                class="nkn-input" 
                                                pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$" 
                                                title="Escribe una contraseña fuerte que sea de 8 caracteres, que contenga mayusculas y minusculas,números y simbolos"
                                                required 
                                            >
                                        </div>
                                    </div>
                                    <span class="" aria-live="error message"></span>
                                </div>
                            </div>
                        </section>
                        <div class="nkn-row-padding">
                            <div class="nkn-col-s12 nkn-center">
                                <button type="submit" name="submit" value="personalInformation" class="cc-button cc-btn" title="Next">Create account</button>
                            </div>
                        </div>
                    </form> 
                    <p>Do you already have an account? <span class="cc-color-1">Log in</span></p>
                    <p>By registering with us you <a href="../privacy.php" class="cc-color-1">Accept the Privacy Policy</a> and <a href="../terms.php" class="cc-color-1">Terms of Use</a> </p>

                </section>          
            </main>
            {{footer}}
        </div>

        <script>
            window.onload = function(event) {
                var inputs = document.querySelectorAll("input");
                console.log(inputs);
                for(let i=0; i<inputs.length; i++){
                    if(inputs[i].value !==""){
                        inputs[i].previousElementSibling.classList.add("labelUp");                        
                    }
                }
            }
            document.onclick = function(event) {
                event = event || window.event; // IE specials
                var target = event.target || event.srcElement; // IE specials

                const form = document.querySelector("form");
                if(target.nodeName !== "INPUT") {                
                    for(let i=0; i<form.length; i++){
                        console.log(target);
                        if(form.elements[i].value == "") {
                            form.elements[i].previousElementSibling.classList.remove("labelUp");
                        }
                    }
                }

                if((target.nodeName == "INPUT") && (target.value == "")) {
                    target.previousElementSibling.classList.add("labelUp");
                    target.classList.add("cc-click-efect");
                }
            };

        </script>
        <!--- Unkuna JavaScript. -->
        <script src="https://cdn.unkuna.org/v0.7/javascript/unkuna.js"></script>                  
    </body>
</html>

